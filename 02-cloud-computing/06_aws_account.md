## AWS 계정

- AWS의 사용자와 리소스를 관리하는 단위
  - AWS 계정에 AWS 리소스를 생성
  - 이후 다양한 사용 주체(IAM 사용자, 역할 등)이 생성된 리소스를 사용
  - 계정 ≠ 사용자
- 계정의 생성 방법
  - 이메일, 신용카드, 계정 이름을 제공해서 신규 계정 생성
  - AWS Organization으로 생성
- 계정 생성시 Root 사용자를 자동으로 생성

## Root 사용자

- 계정을 생성할 때, 같이 생성되는 사용자
- 계정의 모든 권한을 가지고 있으며 계정 권한을 제한할 방법이 없음
  - 탈취 당했을 때, 복구가 매우 어려움 = MFA(Multi Factor Authentication) 필수
- 루트 사용자는 관리용으로만 이용 권장: 계정 설정 변경, 빌링 등…

## Root 사용자만 가능한 작업

- AWS 계정 설정 변경
  - 메인 이메일 주소, 계정 이름, 연락처 정보 등
- 요금 관련 설정
  - IAM 유저에게 위임 가능
- AWS Support Plan(지원 플랜) 구독, 변경, 취소
- AWS 계정 삭제

## IAM 사용자

- IAM(Identity and Access Management)를 통해 생성한 사용자
- 생성 시 권한이 따로 부여되어 있지 않으며 정책 혹은 그룹을 통해 권한을 부여받아 활동

## AWS 계정의 의미

- AWS 리소스 관리의 일반적인 최대 단위
  - 일반적으로 설정의 가장 큰 단위는 계정
  - 예: 계정 별 최대 S3 최대 버킷 개수 등
- 관리/피해 범위를 한정할 수 있음
  - 권한 관리를 쉽게 할 수 있음
  - 해킹 등의 피해 발생 시, 피해 범위 최소화 가능
- 비용 범위에 대한 확인을 쉽게할 수 있음

## **AWS 계정 생성시 알아둘 점**

- 처음 생성할 때, 본인 명의의 신용카드 필요
- AWS 계정을 처음 생성하면 루트 사용자와 기본 리소스(기본 VPC)등이 생성됨
- AWS 계정 아이디가 부여됨(숫자)
  - 로그인할 때 해당 숫자를 기억해야 함
  - 추후 AWS 계정에 별명 지정 가능(문자)

## **IAM 사용자란?**

- IAM을 통해 생성한 사용자
- 만들 때, 주어진 아이디로 로그인
- 기본 권한 없음: 따로 권한을 부여해야함
  - 예: 관리자 IAM User, 개발자 IAM User, 디자이너 IAM User, 회계팀 IAM User
  - 권한 부여시, 루트 사용자와 같이 모든 권한을 가질 수 있지만 빌링 관련 권한은 루트 사용자가 허용해야 함
- 꼭 사람이 아닌 어플리케이션 등의 가상의 주체를 대표할 수도 있음
- AWS의 관리를 제외한 모든 작업은 관리용 IAM User를 만들어 사용하는 것을 권장

## **AWS 프리티어**

- 서비스 별로 지정한 한도 내에서 무료로 AWS 서비스를 살펴보고 사용해볼 수 있는 기능
  - 누구나 사용 가능
- 총 3가지 종류
  - 언제나 무료
    - 기존 및 신규 고객 모두에게 일정 시간 동안(보통 월) 일정 사용량을 무료로 제공하는 방식
      ⇒ 일정 기간동안 일정 사용량 이상을 사용하면 그 이후부터 과금
  - 무료 평가
    - 사용을 시작한 후, 일정 기간 혹은 일정 사용량 사용 이후부터 요금을 청구하는 방식
      ⇒ 무료 사용기간을 초과하거나 무료 사용량을 초과하면 요금 발생
  - 12개월 무료
    - 신규 고객에게 12개월동안 일정 사용량에 대해서 무료
      - 12개월이 넘어가거나, 월 일정 사용량을 넘어서면 과금
- Cost Explorer/AWS Budgets 등으로 사용량 추적 및 알림 가능

## AWS의 비용 관리 및 보안

- 아무리 프리티어라도 제한이 존재
  - 다양한 이유로 요금 청구 가능
    ex) EC2의 프로비전 후 정리하지 않은 경우 등
- 이외에 해킹 및 보안 사고 때문에 비용 발생 가능
  - EC2/SageMaker 등을 탈취해서 비트코인 채굴 등

## AWS 계정을 지키는 설정

- 루트 사용자 및 IAM 사용자의 MFA
- 비용 모니터링 설정
  - AWS Budget
- AWS 리소스 모니터링
  - AWS Config
  - AWS User Notifications

## 실습 순서

- AWS 계정
- 루트 사용자로 로그인
- 루트 사용자 MFA 설정
  - 구글 OTP 다운로드
- 계정 별명 생성
- 관리 권한 가진 IAM 사용자 생성
- IAM 사용자 MFA 설정
- 루트 사용자로 로그아웃 → IAM 사용자로 로그인
- 루트 사용자로 로그인해서 IAM 빌링 활성화하기
